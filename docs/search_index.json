[
["index.html", "初心者向けRのインストールガイド 1 はじめに", " 初心者向けRのインストールガイド Syunsuke Fukuda 2019-06-14 1 はじめに データ分析のセミナー等に参加しようとすると、 持ち込みのノートパソコンに事前にRやRStuido等をインストールしておいて下さいと指示されることがありますが、 そんな時でも、この文書を活用すれば、しっかりＲ講義を受けるための準備が出来ます。 一般に、Rでの分析を始める時には、次の３つの準備が必要になります。 Rのインストール RStudioのインストール Rのパッケージのインストール まずは、あなたのパソコンにR言語の処理を行ってくれるプログラムをインストールします。 次に、一般的にプログラミングを行う場合には、 その作業を便利にサポートしてくれる統合開発環境と呼ばれるソフトを使います。 R言語については、RStudioと呼ばれる統合開発環境が有名ですので、 ここでは、このRStudioのインストールを行います。 最後にR言語の機能を拡張するためのパッケージをインストールします。 パッケージは、作業の内容により必要とされるものが異なる場合がありますが、 一般の作業でよく使うパッケージのインストールを通じて、パッケージのインストール自体の説明を行います。 実際に必要となるパッケージは、その指示に従って、必要となるパッケージをインストールしましょう。 尚、Windows上のトラブルとして耳にすることが多い、 RStudioが上手く起動しない場合についての解決策についても紹介します。 "],
["03_installation_of_R.html", "2 Rのインストール 2.1 The R Project for Statistical Computing 2.2 CRAN 2.3 セットアップファイルのダウンロード 2.4 インストール", " 2 Rのインストール Ｒ言語は、統計計算やグラフを得意とするプログラミング言語です。 ここでは、R言語の基本システムをWindowsにインストールする方法を紹介します。 2.1 The R Project for Statistical Computing R言語(GNU R)については、その開発を行っている「The R Project for Statistical Computing」のページで情報が発信されています。(図2.1) このWebページでは、Ｒに関する基本的な情報の他、最新のリリース情報を得たり、マニュアルの閲覧が出来ます。 Figure 2.1: https://www.r-project.org 2.2 CRAN Rに関するリソース（インストールプログラムやパッケージ等の配布物）はCRAN(the Comprehensive R Archive Network)で管理されています。 つまりは、Rに関して何かダウンロードしたい場合に訪れる場所がCRANです。 CRANは、「シーラン」または「クラン」と発音します。 このCRANは、世界中にミラーサイト（同じ内容のサイト）が存在し、 ネットワーク的に近いところからダウンロードが出来るようになっています。 The R Project for Statistical Computing のページの左側メニューの一番上のCRANと書かれたリンクから 世界各国にあるミラーサイトの紹介ページへ行くことが出来ます。 そのページの中には、日本国内のCRANミラーサイトとして次のものが紹介されています。 https://cran.ism.ac.jp/ http://cran.ism.ac.jp/ https://ftp.yz.yamagata-u.ac.jp/pub/cran/ Rのインストールに必要なファイル等をダウンロードするために、 早速、上記のいずれかのCRANにアクセスしましょう。 2.3 セットアップファイルのダウンロード CRANにアクセスしたら、Download and Install Rという項目にあるDownload R for Windowsと書かれたリンクをクリックして、Windows用のページに行きます。（図2.2） Figure 2.2: CRAN R for Windowsと書かれたWindows用のページに切り替わるので、 baseと書かれた項目の右側の文書の中にある、install R for the first timeと書かれたリンクをクリックします。 （図2.3） Figure 2.3: Windows用のページ そうすると、Windows用のセットアップファイルがダウンロード出来るページに切り替わります。 （図2.4） Figure 2.4: インストーラーのダウンロード 2019/05/30時点では、図2.4の通り、 ページのタイトルが R-3.6.0 for Windows (32/64 bit)となっていますが、 数字の部分は、そのバージョン番号を表しており、最新のものほど大きな数字になっていきます。 つまり、あなたが目にする数字は、時期により異なり「3.6.1」だったり、「3.7.0」だったりするかもしれません。 しかし、そのページでは、その時に表示されているものが最新のバージョンなので、それをそのままインストールして構いません。（バージョン等変化する部分があるとき、3.x.x等とxを使って表記されることがあります。） ここで、Download R 3.6.0 for Windows と書かれたリンクをクリックして、 インストール用のセットアッププログラムをダウンロードし保存します。 インストール用のセットアッププログラムファイルは、通常、ダウンロードフォルダにダウンロードされますが、 良く分からない場合には、Download R 3.6.0 for Windows と書かれたリンクを右クリックして出てくるメニューの 「名前を付けてリンク先を保存」を選択することで、 自分の好きな場所、例えば、デスクトップ等にダウンロードする事も出来ます。 ダウンロードされるファイルの名前は、R-3.6.0-win.exeです。 数字の部分は、バージョンを表しているので、その時によって変化します。 2.4 インストール ダウンロードしたセットアップファイルR-3.6.0-win.exe（図2.5）をダブルクリックします。 Figure 2.5: セットアッププログラムファイル Windwosのデバイスに変更を加える注意のダイアログに答えると、 セットアップに使用する言語の選択ダイアログが出るので 「日本語」になっていることを確認して「OK」します。 2.4.1 ライセンスへの同意 ライセンス条項を読んで「次へ」をクリック（図2.6） Figure 2.6: install dialog: license 2.4.2 インストール先の指定 既に適切な場所が入力されているはずなので、そのまま「次へ」をクリック（図2.7） Figure 2.7: install dialog: install folder 2.4.3 コンポーネントの選択 そのままの状態で「次へ」をクリック（図2.8） Figure 2.8: install dialog: コンポーネント 2.4.4 起動時オプション そのままの状態で「次へ」をクリック（図2.9） Figure 2.9: install dialog: 起動時オプション 2.4.5 プログラムグループの指定 そのままの状態で「次へ」をクリック（図2.10） Figure 2.10: install dialog: group 2.4.6 追加タスクの選択 そのままの状態で「次へ」をクリック（図2.11） Figure 2.11: install dialog: その他設定 2.4.7 インストールがはじまります パソコンにファイルが展開されて実際にインストールされます。（図2.12） Figure 2.12: install dialog: installing 2.4.8 インストールが完了します 暫くすると、インストール完了のダイアログがでるので「完了」をクリックして、インストールを完了させましょう。（図2.13） Figure 2.13: install dialog: 完了 "],
["04_installation_of_RStudio.html", "3 RStudioのインストール 3.1 RStudio 3.2 セットアップファイルのダウンロード 3.3 インストール", " 3 RStudioのインストール Rの統合開発環境（IDE）であるRStudioのインストールを紹介します。 3.1 RStudio RStudioのWebページでは、 IDEだけでなく Rで人気のパッケージの開発も行われており、 それらの情報も、このWebページから辿ることが出来ます。 Figure 3.1: https://www.rstudio.com/ 3.2 セットアップファイルのダウンロード トップページを少し下へスクロールするとRStudioのダウンロードリンクがある（図3.2）ので、 それをクリックしてダウンロードページへ行きます。 Figure 3.2: ダウンロードページへのリンク 切り替わったページ（図3.3）の初めの方は、RStudioのライセンス形態についての紹介がされているので下の方へスクロールしましょう。 Figure 3.3: ダウンロードページ 下の方でInstallers for Supported Platformsという項目がみつかります。 そこに各ＯＳ毎のインストールファイルへのリンクがあります。(図3.4) Windows用のインストーラーリンクをクリックして、インストーラーを保存しましょう。 Figure 3.4: Windows用インストーラーのダウンロード 3.3 インストール ダウンロードされたセットアップファイル「RStudio-1.2.1335.exe」をダブルクリックします。 （ファイル名の数字はバージョンで時期により異なります） Windwosのデバイスに変更を加える注意のダイアログに答えると、セットアップが始まります。 3.3.1 セットアップのスタート 「次へ」をクリックします（図3.5） Figure 3.5: install dialog 3.3.2 インストール先の指定 既に適当な場所が入力されているはずなので、そのまま「次へ」をクリック（図3.6） Figure 3.6: install dialog: インストール先 3.3.3 スタートメニューフォルダの選択 そのままの状態で「インストール」をクリック（図3.7） Figure 3.7: install dialog:スタートメニュー設定 3.3.4 インストールがはじまります。 パソコンにファイルが展開されて実際にインストールされます。（図3.8） Figure 3.8: install dialog: installing 3.3.5 インストールが完了します。 暫くすると、インストール完了のダイアログがでるので「完了」をクリックして、インストールを完了させましょう。（図3.9） Figure 3.9: install dialog: 完了 "],
["05_installation_of_packages.html", "4 RStudioでパッケージをインストールする 4.1 初めてのRStudio 4.2 パッケージのインストール 4.3 GitHubで公開されているパッケージのインストール", " 4 RStudioでパッケージをインストールする Rのシステムはパッケージをインストールすることで、 機能を拡張することが出来る仕組みになっています。 このパッケージは、世界各国の現場の研究者達やRStudioチームをはじめとするオープンソース開発者達が独自に開発して公開しています。 また、パッケージには、CRANを通じて公式に配布されているものと、 GitHub等を通じてプログラマが独自に配布しているものとがあります。 ここでは、初めて立ち上げるRStudioについての簡単な紹介と、 そのRStudioを使ったパッケージのインストール方法を紹介します。 尚、基本的にRStudio上でのインストール操作を行うと RStudioがインターネット経由でCRANからパッケージファイルをダウンロードし、 それをインストールしてくれます。 そこで、以下の手順は、 インターネットに繋がっている環境で行う必要があります。 4.1 初めてのRStudio これからデータ分析を行うために使っていく事になる RStudioはどんなものなのかを簡単に紹介します。 4.1.1 RStuidoの起動 ここまでのインストール作業で、RのシステムとRStudioの２つをインストールしました。 Windowsのスタートメニューには、RとRStudioの両方を見つけることが出来ます。 しかし、これからあなたはRの作業を常にRStudioで行います。 ですから、WindowsスタートメニューのRのフォルダは気にせずに、RStudio（図4.1）だけに注目してください。 Figure 4.1: スタートメニュの中のRStudio では、早速、RStudioを起動して下さい。 4.1.2 RStudioは区画に分かれている Figure 4.2: RStudio RStudioの画面は、いつも、幾つかの区画に分かれています。 （図4.2） 立ち上げた直後は、左に大きな区画が１つと右に上下に区切られた区画が２つあります。 しかし、作業をしているうちに、だいたい左側も上下２つの区画に分かれるので、 RStudioの見た目は４つの区画に分かれています。 尚、区画の事をペイン（pane:ガラス板とか格子という意味）と 表現されていることもあるので、ペインと聞いたら「ああ、区画の事ね」と把握しましょう。 真っ白なRStudio さて、ここで、区分どころか、いつまでたってもRStudioの画面が真っ白なままの方がいるかもしれません。（図4.3） Figure 4.3: 真っ白なRStudio これは、ホームディレクトリの名前に日本語文字が使われている場合に見られる不具合です。このような不具合が出ている場合は、後述のRStudioが上手く起動しない時の対策を試してください。 4.1.3 各区画の内容はタブで切り変えられる RStudioは画面の中にあらゆる機能が凝縮されているため、 小さな部分に重要な機能が沢山潜んでいます。 例えば、各区画をもう少しよく見てみましょう。 この区画の上部をよく見てもらうと、どの区画にもタブが並んでいるのをみつけることが出来るはずです。 まずは、右上の区画の上部に注目です。 Figure 4.4: 右上区画のタブ 続いて、右下の区画の上部に目を移してください。 Figure 4.5: 右下区画のタブ そして、このタブをクリックすることで、 各区画の内容を切り替えることが出来ます。 4.1.4 RStudioの大まかな配置 初めてみるRStudioは複雑そうに見えますが、 これらかデータ分析を行っていくあなたは、 次第に、この殆ど全ての機能を使いこなすようになります。 まず、各区画の大まかな機能について、把握しましょう。 メインの作業場となる左側区画 一番初めに、表示されているのはConsoleタブであり、 コンソールが表示されています。 コンソールは、Rのコマンドを打ち込んで結果を得るための場所であり、 Rでのデータ分析においてメインの作業場になります。 また、この左側の区画も、上下２段に分割されます。 その場合、コンソールは下段になり、 上段は主にプログラムコードの編集等、ファイルの編集区画が開きます。 そして、編集作業では、複数のファイルを開く事が出来、 上段区画のタブで開いている各ファイルを切り替えることが出来ます。（図4.6） Figure 4.6: RStudioの左区画 変数確認の右上区画 主に、プログラムを実行している際の変数の内容を確認したり（Environmentタブ）、 コンソールに打ち込んだコマンドの履歴を見たり（Historyタブ）します。 色々な情報が混在する右下区画 右下区画には、様々な情報が表示されるので、常にタブを切り替えて使うことになります。 右下区画のタブには通常以下のものがあります。 タブ名 内容 Files ファイル管理 Plots グラフ表示 Packages パッケージ管理 Help マニュアル閲覧 Viewer データ閲覧 ここまでで、RStudioの基礎として２つの事を把握しました。 各区画にに分かれている事 各区画はタブで内容を切り変えられる事 次は実際に、RStudioの機能に触れてみましょう。 4.2 パッケージのインストール CRANに登録されているパッケージは、2019/5/31時点で14,307あります。 しかし、RのパッケージはCRANに登録されずにGitHub上のみで 公開されているものもあるので、 世の中にあるRパッケージは上記の数よりもずっと多く存在します。 Rでは、これらの全てのパッケージをインストールしなければならないわけでは無く、 これらのうちから自分の作業に必要なもののみをインストールします。 一般的に、Rで新しいことをはじめようとする場合、 参考書等でほぼ初めに述べられるのが、 その作業に必要となるパッケージのインストールについてです。 また、Rのバージョンアップを行ったり、再インストールを行った場合には、 いつも使っていたパッケージについて、再度インストールする必要が生じます。 以上のことから、R言語を利用する場合、パッケージの管理は必須の作業になります。 ここでは、Rでのデータ分析にほぼ必須のパッケージであるtidyverseを例に RStudioでのインストール作業を行っていきます。 パッケージのインストールをはじめとするRStudioでのパッケージ管理作業は、 右下区画のPackagesタブで行います。（図4.7） Figure 4.7: 右下区画のタブ 4.2.1 Packagesペイン Packagesペインに切り替えた右下区画には、 既にインストールされているパッケージの一覧が表示されています。 （図4.8） Figure 4.8: パッケージペイン 青くなっているパッケージ名をクリックすると、 表示がそのパッケージの解説に切り替わります。 この時、良く見ると上部のタブが Help に切り替わっているはずです。 元に戻りたい時は、慌てず Packages タブをクリックすれば、 Packagesペインに切り替えることが出来ます。 さて、Packagesペインのタブのすぐ下の部分をよく見てもらうと InstallとUpdateという項目が並んでいるのを見つけられるはずです。 Figure 4.9: インストールダイアログ呼び出しボタン この Install と書かれている部分にカーソルを持っていくと、 カーソルが指で指し示すマークに変わるので、クリックしましょう。 画面の中央に、Install Packagesというタイトルのダイアログが現れます。 4.2.2 インストール用ダイアログ このInstall Packages ダイアログの真ん中辺りに Packages(separate multiple with space or comma)と タイトルが付けられている入力フォームがあります。 （図4.10） Figure 4.10: パッケージ名入力フォーム この入力フォームに、インストールしたいパッケージ名を書き込み、 下の Install と書かれているボタンを押すと、 パッケージのインストールが始まります。 ここでは、入力フォームに tidyverse と書き込んでみましょう。 入力フォームに tidyverse と書けたら、下の Install ボタンを押してください。 インストール作業が開始されます。 4.2.3 左区画のConsoleペインでインストール進捗状況を確認 実は、Rでのパッケージのインストールは、本来、 コンソール上で、パッケージをインストールするためのコマンドを入力して 実行することで行います。 例えば、tidyverse のインストールを行う場合、 コンソールのプロンプトに対して次のようなコマンドを入力して実行します。 install.packages(&quot;tidyverse&quot;) しかし、RStudioでは、 Packagesペインから先のように Install Packages ダイアログ 上で作業を行うと、 あなたのかわりにRStudioがRのパッケージをインストールするためのコマンドを コンソール上に書き込み、実行してくれる仕組みになっています。 ですから、 Install Packages ダイアログの Install ボタンを押した後、 左側区画のConsoleペインには インストールに関する色々な情報が出力がされているはずです。 出力は英語ですが、その主な内容は、 インターネットを通じてパッケージをダウンロードし、 適切な場所にインストールする進捗状況が示されています。 ここでは、１つのパッケージを指定したとしても、 デフォルトでは関連して必要となる他のパッケージも 自動でインストールされますので インストール作業が完了するまでには少し時間が掛かることもあります。 特に tidyverse を初めてインストールする時には関連パッケージが 何十個もインストールされると共に、大きなファイルの展開などもされるため、 数分待つことになるかもしれません。 インストール作業が完了したら、 プロンプト（入力待ちをあらわす &gt; というマーク）が戻ってくるので、 それまでは、おとなしく待ちましょう。 （図4.11） Figure 4.11: インストールの完了を知らせるプロンプト 4.2.4 その他よく使うパッケージのインストール パッケージインストールの練習として、 一般的によく使われる次のパッケージをインストールしてみましょう。 特に devtools は必ず、インストールしてください。 devtools data.table sf 既にインストールされているパッケージを重複してインストールしても特に問題はないので、 良く分からない場合は、とりあえず、インストールしてしまって構いません。 4.3 GitHubで公開されているパッケージのインストール 先に少し述べた通り、 Rのパッケージには、CRAN(シーラン)と呼ばれるRの公式プログラム配布場所から入手ができるものと、 GitHub等のCRAN以外の場所から入手出来るものがあります。 ここで、GitHubとは、世界中のプログラマが沢山のプログラムのソースコードを公開している有名なWebサービスです。 プログラムの開発をサポートするサービスなので、CRANに登録されているRのパッケージも、その開発段階の最新のものはGitHub上にもあったりします。 そこで、Rのパッケージの主な入手先は、 CRAN か GitHub かの２種類になるのですが、 GitHub上のパッケージは、 先に説明した RStudio の Packageペインからの インストール機能を使ったインストールが出来ません。 GitHubで公開されているパッケージをインストールするためには、本来的な、 パッケージをインストールするための コンソールへのコマンド入力が必要となります。 そこで、まずは、コマンド入力をしたことがない人のために、 コンソールの基礎的な知識についての紹介を行います。 4.3.1 コンソールの基礎的知識 まずは、コンソールそのものについての紹介をしておきましょう。 通常、Windowsを利用する時にコンソールやコマンドを使うことは 殆どありません。 何かソフトを立ち上げる時にはアイコンをダブルクリックし、 何かの設定を行う時にはメニューやダイアログを開いて指示に従ったり、 様々な選択肢の中から選択を行う事が殆どです。 しかし、Rを使ったデータ分析を行うためには、 多くの作業をコンソール上でのコマンド入力によって行うことになります。 RStudioの左側区画がコンソールペインであることは紹介しました。 このコンソールには プロンプトと呼ばれる文字入力を受け付ける場所があります。 そして、このプロンプトにコマンド文字列を入力して、 エンターキーを押すことで、Rに命令を実行させることが出来ます。 あらためて、コンソールの実物を見ながら、 最低限覚えておくべき用語の整理をしておきます。 Figure 4.12: コンソールの基本 コンソール コンソールはRStuidoの画面の左側にあります。 RStudioを使っている内に左側の画面が上下２分割されることがありますが、 その場合には下側にコンソール画面があります。 また、コンソール画面の上部に小さくConsoleと書かれている部分があるので、 そこを見れば、ここがコンソール画面であることを思い出せます。 これからの作業は、ここにコマンドを入力して行う事になります。 プロンプト コンソール画面左端にある「&gt;」の様な形をしたものをプロンプトと言います。 Rにコマンドを入力する時には、このプロンプトの右側にコマンドを書き込み、 最後にリターンキーを押すことで、そのコマンドを実行することが出来ます。 このプロンプトは、 「コマンドの入力を受け付けています」という意味を持っています。 コマンドを実行して処理をしている最中には、このプロンプトは表示されません。 普段は、あっというまに処理が終わるので、 いつでもプロンプトが表示されているように見えますが、 時間のかかる処理をしている時には、 なかなかプロンプトが表示され無い事もあります。 つまり、コンソールにプロンプトが無い時は、前のコマンドの処理中なので、 次のコマンドを入力するためには、前のコマンドの処理が終わり、 プロンプトが表示されるのを待つ必要があります。 カーソル プロンプトの横に縦棒「|」が、点滅しているかもしれません。 これがカーソルです。 プロンプトへの入力は、リターンキーが押されるまで実行されません。 コンソールからのコマンド入力では、通常、長いコマンドを打ち込む時、 カーソルキーを使ってカーソルを自由に動かし、 行内のあちこちを編集しながら入力して行きます。 まずは、これらの単語を今ここで覚えてしまいましょう。 そうすれば、「解説等でどこの何の話をしているのかがわからない」ということがなくなります。 4.3.2 devtoolsパッケージが必須 GitHub上のパッケージをインストールするためのコマンドは、 devtoolsパッケージに入っています。 devtoolsパッケージは、CRANに登録されいるパッケージなので、 先の手順でdevtoolsパッケージをインストールしておきましょう。 devtoolsパッケージがインストールされていないと、 GitHubで公開されているパッケージのインストールが出来ません。 4.3.3 retiパッケージのインストール 筆者が所属する大阪府不動産鑑定士協会不動産取引価格情報活用小委員会では、 国土交通省が公開している不動産取引価格情報のデータを Rで扱いやすくするためのパッケージとして、 retiパッケージ (Real Estate Transaction-price Infomation data)を GitHub上で開発して公開しています。 そこで、ここでは、GitHub上のパッケージのインストールの例として、 このretiパッケージのインストールを行います。 GitHub上のパッケージをインストールするためには、 コンソールのプロンプトにコマンドを打ち込んで実行します。 RStudioの左側のコンソールペインにあるプロンプトに、 次のコマンドをキーボードから入力してください。 devtools::install_github(&quot;rea-osaka/reti&quot;) 入力が出来たらEnterキーを押して、入力したコマンドを実行します。 "],
["06_check_before_installation.html", "5 RStudioが上手く起動しない時の対策 5.1 ホームディレクトリ名のチェックの方法 5.2 対策について 5.3 新しいアカウントの作成 5.4 アカウントの切り替え", " 5 RStudioが上手く起動しない時の対策 Figure 5.1: 真っ白なRStudio RStudioを立ち上げた時に、いつまでたっても真っ白なままのWindowで、 上手くRStudioが起動しない場合があります。（図5.1） また、図5.2や図5.3ようなダイアログが出て、RStudioが起動しないこともあります。 Figure 5.2: Rのエラーダイアログ Figure 5.3: RStudioのエラーダイアログ RStudioにエラーメッセージが表示され、更にエラーダイアログが出て、 図5.4の様になっているかもしれません。 Figure 5.4: 上手く立ち上がれないRStudio このような不具合が起こるケースの原因の一つとして、 ホームディレクトリの名前に日本語文字が使われていることが考えられます。 RStudioが上手く起動しない場合は、まず、 次の手順でホームディレクトリの名前に日本語文字が使われていないかをチェックしましょう。 5.1 ホームディレクトリ名のチェックの方法 Windowsのスタートメニューを開き、 Windowsシステムツールの中にある、コマンドプロンプトを立ち上げてください。 （図5.5） Figure 5.5: コマンドプロンプトの起動 黒い画面が現れ、 C:\\Users\\shunsk&gt; のような感じの文字が表示されているはずです。 これは、コマンドを受け付けるためのプロンプトと呼ばれるもので、 チカチカと明滅しているカーソル部分に、キーボードを使ってコマンドを書き込むことが出来ます。 そして、このプロンプトに表示されている文字列が そのユーザーのホームディレクトリを表しています。 Figure 5.6: アルファベットのみのホームディレクトリ名 ディレクトリ名が半角英数のみの場合 図5.6では、ホームディレクトリ名に半角英数の文字のみが使われています。 このような場合には、特に問題なくRStudioが使える状態です。 ディレクトリ名に日本語が含まれる場合 コマンドプロンプトを立ち上げると、 次のように日本語が含まれている場合があります。 Figure 5.7: 日本語文字を含むホームディレクトリ名 図5.7では、 プロンプトに示されるホームディレクトリ名に日本語の文字が含まれています。 C:\\Users\\しゅんすけ&gt; このように、日本語文字がある場合は、 初めのスクリーンショットのようにRStudioが上手く起動しない 不具合が報告されています。 しかし、この場合には、次から述べる対策をすることで、 不具合なくRStudioを使うことが出来るようになります。 5.2 対策について ホームディレクトリに日本語名が使われている場合、 お勧めする対策は、新たに別のアカウントを作成することです。 ホームディレクト名は、Windowsのアカウントを作成する際に アカウント名に応じて自動的に決定されます。 そこで、新しく作成するアカウント名を アルファベット文字のみからなるアカウント名にすることで、 日本語を含まないホームディレクトリ名を持つ アカウントを作成することが出来ます。 5.3 新しいアカウントの作成 ここで、新しいWindowsのアカウントを追加する際に必要な知識として、 Windowsのアカウントには２つの種類があることを紹介しておきます。 5.3.1 Windowsのアカウントには２つの種類ある 実は、Windowsのアカウントには次の二つの種類があります。 マイクロソフトアカウントと連携したアカウント ユーザーローカルアカウント マイクロソフトでは、メールサービスや マイクロソフトのソフト（ワードやエクセル）などを クラウド管理するのに便利な マイクロソフトアカウントというサービスを提供しています。 Windowsへのログインもこの マイクロソフトアカウントと連携したアカウント でログイン出来る様になっています。 一方、別の方法として、マイクロソフトアカウントとは無関係に、 各パソコン上に個別のアカウントを設定して Windowsにログインすることも出来ます。 このような方法をローカルユーザーアカウントで ログインする方法と呼ばれています。 ここで、RStudioをインストールするために 新しいアカウントを用意しようとする場合には、 ユーザーローカルアカウントを用いる方が簡単であり、 確実にホームディレクトリ名もアルファベットのみのものに出来るので このローカルユーザーアカウントの方の作成の方法を紹介します。 5.3.2 ユーザーローカルアカウントの追加 Windows10で、ユーザーローカルアカウントを作成する方法を紹介します。 まず、スタートメニューを開き、歯車マークをクリックして、Windowsの設定ウインドウを開きましょう。 （（図5.8）） Figure 5.8: スタートメニューから設定ウインドウを開く Windowsの設定ウインドウが開いたら、アカウントという項目をクリックします。 （（図5.9）） Figure 5.9: Windowsの設定 アカウントの設定画面に切り替わったら、左側にあるメニューの家族とその他ユーザーをクリックします。 （（図5.10）） Figure 5.10: アカウントの設定 家族とその他ユーザーの画面に切り替わったら、他のユーザー項目にある他のユーザーをこのPCに追加と書かれている部分をクリックします。 （（図5.11）） Figure 5.11: その他のユーザーの追加 Microsoftアカウントのダイアログが表示され、「このユーザーはどのようにサインインしますか？」と聞かれます。ここでは、このユーザーのサイン情報がありませんと書かれている部分をクリックします。 （（図5.12）） Figure 5.12: アカウントの作成ダイアログ 次に「アカウントの作成」項目に切り替わります。 ここでは、Microsoftアカウントを持たないユーザーを追加すると書かれている部分をクリックします。 （（図5.13）） Figure 5.13: アカウントを持たないユーザーの追加 「このPC用のアカウントの作成」という項目に切り替わります。 ここで、「このPCを使うのはだれですか？」と聞かれている下のフォームに、 好きなユーザー名を入力します。 ここで入力するユーザー名は、必ず、アルファベットのみの 文字にしてください。（（図5.14）） この名前が、ホームディレクトリの名前になります。 Figure 5.14: アカウントの作成 パスワードを設定する場合は、下側の必要項目を記入の上、次へボタンをクリックします。パスワードが必要なければ、パスワード部分を空欄のままにして次へボタンをクリックします。 以上で、新しいアカウントが作成されます。 Windows8の場合も同様に、ローカルアカウントを追加することができます。 PCの設定 &gt; アカウント &gt; その他のアカウント &gt; カウントを追加する &gt; Microcoftアカウントを使わずにサインインする &gt; ローカルアカウント とういう流れで、新しいアカウントが作成できます。 不安な場合には、アカウントの追加について検索エンジンで検索してみたり 周りのパソコンが得意な人にも相談してみましょう。 いずれにせよ、新しく作るアカウント名は、必ず、アルファベット文字のみのアカウント名にすることを忘れてはいけません。 5.3.3 管理者権限について 管理者権限を持つユーザー（アカウント）のみが、 システムにソフト等をインストールすることが出来ます。 Windowsを買った時に使い始める一番最初のユーザーは 管理者権限をもっていますが、 後から追加したアカウントのユーザーについては、 管理者権限を持たない標準ユーザーとして作成されます。 しかし、他の管理者権限を持ったユーザーによって、標準ユーザーに 管理者権限を与えることも出来ます。 アカウントの設定の家族とその他ユーザー画面には、 今追加した、アカウントのアカウント名が表示されているはずです。 そこをクリックすると、アカウントの種類の変更というボタンがあるので、 それを押して現れるダイアログで、管理者と標準ユーザーを切り替えることが出来ます。 ここで、既にRとRStudioのインストールがおわっているならば、 ここで作成した新しいユーザーに、 管理者権限を持たせる必要はありません。 一方、まだ、RとRStudioをインストールしていなくて、 新しく作成した、アカウントからこれらをインストールする場合には、 この新しいアカウントに管理者権限を持たせてください。 Windows10の場合、マイクロソフトのWindowsのサポートページを参考にしてみてください。 Windows 10 でローカルのユーザー アカウントまたは管理者アカウントを作成する 5.4 アカウントの切り替え アカウントが出来たら、アカウントを切り替えてみましょう。 5.4.1 ログイン画面での切り替え まず、Windowsを立ち上げたときのログイン画面をみてみましょう。 Figure 5.15: ログイン画面でのアカウントの選択 複数アカウントが登録されていると、起動時のWindowsログイン画面の左下に アカウントのリストが表示されます。（（図5.15）） ここで、好きなアカウントを選択すれば、そのアカウントでログインできます。 5.4.2 スタートボタンからの切り替え 右下のWindowsボタンを押し、スタートメニューを開きます。 Figure 5.16: スタートメニューのアカウント管理アイコン スタートメニューの左端に縦にアイコンが並んでおり、 その一番上に、ヒト型のアイコンが見つかるので、 そこをクリックしてください。（（図5.16）） アカウントに写真を登録してある場合、 ヒト型アイコンの代わりその写真が表示されている場合もあります。 アイコンをクリックすると、 アカウントを切り替えるためのメニューが表示されます。 Figure 5.17: アカウントの選択 下側にアカウントの一覧が表示されるので、 切り替えたいアカウントをクリックします。（（図5.17）） Windowsには、複数のアカウントで同時にログインできます。 アカウントを切り替えた場合、 元のアカウントも隠れた状態でログインした状態になっており、 再度、元のアカウントに切り替えて戻ってくると、 切り替え前の作業状態がそのまま残っているので 作業の続きが出来ます。 個々のアカウントの終了は、 切り替えメニューにあるサインアウトでできます。 "]
]
